(function($){$(function(){const e="#cltd-pagination",t="[data-cltd-next], .w-pagination-next";console.log("[cltdPagination] ✅ Initialized using container:",e);const n=$(e),i=n.find(".w-dyn-items").first();if(!i.length)return void console.warn("[cltdPagination] ❌ Missing .w-dyn-items inside container.");$(document).on("click",t,function(o){o.preventDefault();const c=$(this),a=c.attr("href");if(!a)return;if(c.hasClass("is-loading"))return;c.addClass("is-loading"),console.log("[cltdPagination] 🔘 Load More clicked:",a),fetch(a).then(e=>e.text()).then(o=>{const s=$("<div>").html(o),r=s.find(e).find(".w-dyn-items").first(),d=r.find(".w-dyn-item"),l=s.find(e).find(t).first();if(console.log(`[cltdPagination] 🧱 Found ${d.length} new items.`),d.length){i.append(d.clone(!0,!0)),console.log(`[cltdPagination] ✅ Appended ${d.length} new CMS items.`),function(){try{if(window.Webflow&&"function"==typeof Webflow.require){const e=Webflow.require("ix2");e&&"function"==typeof e.init&&e.init(),console.log("[cltdPagination] ♻️ IX2 reinitialized.");const t=Webflow.require("lottie");t&&"function"==typeof t.ready&&t.ready(),console.log("[cltdPagination] 🎞️ Lottie animations reinitialized.");const n=Webflow.require("dropdown");n&&"function"==typeof n.ready&&n.ready(),console.log("[cltdPagination] 🔽 Dropdowns reinitialized.")}window.Webflow&&Array.isArray(window.Webflow.ready)&&window.Webflow.ready.forEach(e=>{"function"==typeof e&&e()});i.find(".w-dyn-item").css({opacity:0}).animate({opacity:1},500)}catch(e){console.warn("[cltdPagination] ⚠️ Webflow reinit warning:",e)}}()}else console.warn("[cltdPagination] ⚠️ No new CMS items found.");l.length?(c.replaceWith(l)): (c.remove(),console.log("[cltdPagination] 🏁 No next page, removing button.")),function(){try{const e=window.location.origin+window.location.pathname+window.location.hash;window.history.replaceState(null,"",e),console.log("[cltdPagination] 🧹 Cleaned URL:",e)}catch(e){console.warn("[cltdPagination] ⚠️ URL cleanup failed:",e)}}()}).catch(e=>console.error("[cltdPagination] ❌ Fetch error:",e)).finally(()=>c.removeClass("is-loading"))})})})(jQuery);